import pytest
import io
import tempfile
from mid_tides import TidesForMonth

class TestTideDay:
    def test_is_valid_dictated_month(self):
        test_text_1 = """
100533155809 bravo 103431162811 bravo 111529170912 bravo 121427181214 bravo 
070914133227 bravo 084713150928 bravo 100710163231 bravo 111407173634 bravo 
121404183237 bravo 065141130902 bravo 073843195700 bravo  
082344143600 bravo 090543151300 bravo 094542154702 bravo 102239162104 bravo 
105935165608 bravo 114130173711 bravo 060212124826 bravo 073114142725 bravo 
093913155026 bravo 104911165529 bravo 114108174531 bravo 122606182834 bravo 
064037130604 bravo 071538134104 bravo 074738140804 bravo 081738143005 bravo 
084637144805 bravo 091235150606 bravo
"""

        output_text = TidesForMonth.format_tide_dictation(test_text_1, "02/2024")
        print(output_text)
        expected_text = [
"01/02/2024,2.4,High,10:05:00,3.3,Low,15:58:00,0.9",
"02/02/2024,2.0,High,10:34:00,3.1,Low,16:28:00,1.1",
"03/02/2024,1.7,High,11:15:00,2.9,Low,17:09:00,1.2",
"04/02/2024,1.3,High,12:14:00,2.7,Low,18:12:00,1.4",
"05/02/2024,1.3,Low,07:09:00,1.4,High,13:32:00,2.7",
"06/02/2024,1.5,Low,08:47:00,1.3,High,15:09:00,2.8",
"07/02/2024,2.1,Low,10:07:00,1.0,High,16:32:00,3.1",
"08/02/2024,2.7,Low,11:14:00,0.7,High,17:36:00,3.4",
"09/02/2024,3.3,Low,12:14:00,0.4,High,18:32:00,3.7",
"10/02/2024,3.9,High,06:51:00,4.1,Low,13:09:00,0.2",
"11/02/2024,4.3,High,07:38:00,4.3,Low,19:57:00,0.0",
"12/02/2024,4.4,High,08:23:00,4.4,Low,14:36:00,0.0",
"13/02/2024,4.3,High,09:05:00,4.3,Low,15:13:00,0.0",
"14/02/2024,4.0,High,09:45:00,4.2,Low,15:47:00,0.2",
"15/02/2024,3.5,High,10:22:00,3.9,Low,16:21:00,0.4",
"16/02/2024,2.7,High,10:59:00,3.5,Low,16:56:00,0.8",
"17/02/2024,1.9,High,11:41:00,3.0,Low,17:37:00,1.1",
"18/02/2024,1.4,Low,06:02:00,1.2,High,12:48:00,2.6",
"19/02/2024,1.1,Low,07:31:00,1.4,High,14:27:00,2.5",
"20/02/2024,1.3,Low,09:39:00,1.3,High,15:50:00,2.6",
"21/02/2024,1.8,Low,10:49:00,1.1,High,16:55:00,2.9",
"22/02/2024,2.3,Low,11:41:00,0.8,High,17:45:00,3.1",
"23/02/2024,2.8,Low,12:26:00,0.6,High,18:28:00,3.4",
"24/02/2024,3.3,High,06:40:00,3.7,Low,13:06:00,0.4",
"25/02/2024,3.4,High,07:15:00,3.8,Low,13:41:00,0.4",
"26/02/2024,3.4,High,07:47:00,3.8,Low,14:08:00,0.4",
"27/02/2024,3.3,High,08:17:00,3.8,Low,14:30:00,0.5",
"28/02/2024,3.2,High,08:46:00,3.7,Low,14:48:00,0.5",
"29/02/2024,2.9,High,09:12:00,3.5,Low,15:06:00,0.6"]
               
        assert output_text == expected_text
